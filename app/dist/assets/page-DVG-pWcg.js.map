{"version":3,"file":"page-DVG-pWcg.js","sources":["../../src/app/webapps/edit/page.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ArrowLeft, Plus, X } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { webAppApi } from '@/lib/api';\nimport { toast } from 'sonner';\nimport type { WebApp } from '@/types';\n\nconst categories = [\n  'SaaS',\n  'E-commerce',\n  'Developer Tools',\n  'Productivity',\n  'Finance',\n  'Health & Fitness',\n  'Education',\n  'Entertainment',\n  'Other',\n];\n\nexport default function EditWebAppPage() {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [, setWebApp] = useState<WebApp | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    url: '',\n    description: '',\n    category: '',\n    targetAudience: '',\n    keyFeatures: [''] as string[],\n  });\n\n  useEffect(() => {\n    const fetchWebApp = async () => {\n      if (!id) return;\n      setLoading(true);\n      try {\n        const app = await webAppApi.getById(id);\n        if (app) {\n          setWebApp(app);\n          setFormData({\n            name: app.name,\n            url: app.url,\n            description: app.description,\n            category: app.category,\n            targetAudience: app.targetAudience,\n            keyFeatures: app.keyFeatures.length > 0 ? app.keyFeatures : [''],\n          });\n        } else {\n          toast.error('Web app not found');\n          navigate('/dashboard/webapps');\n        }\n      } catch (error) {\n        toast.error('Failed to load web app');\n        navigate('/dashboard/webapps');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchWebApp();\n  }, [id, navigate]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!id) return;\n    setSaving(true);\n\n    try {\n      await webAppApi.update(id, {\n        ...formData,\n        keyFeatures: formData.keyFeatures.filter(f => f.trim() !== ''),\n      });\n      toast.success('Web app updated successfully');\n      navigate('/dashboard/webapps');\n    } catch (error) {\n      toast.error('Failed to update web app');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const addFeature = () => {\n    setFormData({ ...formData, keyFeatures: [...formData.keyFeatures, ''] });\n  };\n\n  const removeFeature = (index: number) => {\n    setFormData({\n      ...formData,\n      keyFeatures: formData.keyFeatures.filter((_, i) => i !== index),\n    });\n  };\n\n  const updateFeature = (index: number, value: string) => {\n    const newFeatures = [...formData.keyFeatures];\n    newFeatures[index] = value;\n    setFormData({ ...formData, keyFeatures: newFeatures });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"max-w-2xl mx-auto\">\n        <Card className=\"animate-pulse\">\n          <CardContent className=\"p-6\">\n            <div className=\"h-8 bg-gray-200 rounded w-1/3 mb-6\" />\n            <div className=\"space-y-4\">\n              <div className=\"h-10 bg-gray-200 rounded\" />\n              <div className=\"h-10 bg-gray-200 rounded\" />\n              <div className=\"h-24 bg-gray-200 rounded\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <Button \n        variant=\"ghost\" \n        className=\"mb-4\"\n        onClick={() => navigate('/dashboard/webapps')}\n      >\n        <ArrowLeft className=\"w-4 h-4 mr-2\" />\n        Back to Web Apps\n      </Button>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Edit Web App</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">App Name *</Label>\n              <Input\n                id=\"name\"\n                placeholder=\"e.g., TaskFlow Pro\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"url\">Website URL *</Label>\n              <Input\n                id=\"url\"\n                type=\"url\"\n                placeholder=\"https://yourapp.com\"\n                value={formData.url}\n                onChange={(e) => setFormData({ ...formData, url: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description *</Label>\n              <Textarea\n                id=\"description\"\n                placeholder=\"What does your app do? What problem does it solve?\"\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                rows={3}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Category *</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {categories.map((cat) => (\n                  <Badge\n                    key={cat}\n                    variant={formData.category === cat ? 'default' : 'outline'}\n                    className={`cursor-pointer ${\n                      formData.category === cat \n                        ? 'bg-violet-600 hover:bg-violet-700' \n                        : 'hover:bg-gray-100'\n                    }`}\n                    onClick={() => setFormData({ ...formData, category: cat })}\n                  >\n                    {cat}\n                  </Badge>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"targetAudience\">Target Audience *</Label>\n              <Input\n                id=\"targetAudience\"\n                placeholder=\"e.g., Remote teams, project managers, startups\"\n                value={formData.targetAudience}\n                onChange={(e) => setFormData({ ...formData, targetAudience: e.target.value })}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Key Features</Label>\n              <p className=\"text-sm text-gray-500 mb-2\">\n                Add features that make your app stand out. These help our AI create better content.\n              </p>\n              <div className=\"space-y-2\">\n                {formData.keyFeatures.map((feature, index) => (\n                  <div key={index} className=\"flex items-center space-x-2\">\n                    <Input\n                      placeholder={`Feature ${index + 1}`}\n                      value={feature}\n                      onChange={(e) => updateFeature(index, e.target.value)}\n                    />\n                    {formData.keyFeatures.length > 1 && (\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => removeFeature(index)}\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={addFeature}\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Add Feature\n              </Button>\n            </div>\n\n            <div className=\"flex items-center justify-end space-x-4 pt-4\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => navigate('/dashboard/webapps')}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"bg-gradient-to-r from-violet-600 to-indigo-600\"\n                disabled={saving}\n              >\n                {saving ? 'Saving...' : 'Save Changes'}\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":["categories","EditWebAppPage","id","useParams","navigate","useNavigate","loading","setLoading","useState","saving","setSaving","setWebApp","formData","setFormData","useEffect","app","webAppApi","toast","handleSubmit","e","f","addFeature","removeFeature","index","_","i","updateFeature","value","newFeatures","jsx","Card","jsxs","CardContent","Button","ArrowLeft","CardHeader","CardTitle","Label","Input","Textarea","cat","Badge","feature","X","Plus"],"mappings":"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"}