{"version":3,"file":"page-jRZQ9iHk.js","sources":["../../node_modules/lucide-react/dist/esm/icons/link.js","../../src/app/platforms/page.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\", key: \"1cjeqo\" }],\n  [\"path\", { d: \"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\", key: \"19qd67\" }]\n];\nconst Link = createLucideIcon(\"link\", __iconNode);\n\nexport { __iconNode, Link as default };\n//# sourceMappingURL=link.js.map\n","import { useEffect, useState } from 'react';\nimport { Youtube, Instagram, Facebook, Twitter, Linkedin, Music, Check, Link as LinkIcon, AlertCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport type { PlatformConnection, Platform } from '@/types';\nimport { platformApi } from '@/lib/api';\nimport { toast } from 'sonner';\n\nconst platforms: { id: Platform; name: string; icon: React.ElementType; color: string; description: string }[] = [\n  {\n    id: 'youtube',\n    name: 'YouTube',\n    icon: Youtube,\n    color: '#FF0000',\n    description: 'Share Shorts to reach billions of viewers',\n  },\n  {\n    id: 'tiktok',\n    name: 'TikTok',\n    icon: Music,\n    color: '#000000',\n    description: 'Create viral short-form videos',\n  },\n  {\n    id: 'instagram',\n    name: 'Instagram',\n    icon: Instagram,\n    color: '#E4405F',\n    description: 'Post Reels and images to engage your audience',\n  },\n  {\n    id: 'facebook',\n    name: 'Facebook',\n    icon: Facebook,\n    color: '#1877F2',\n    description: 'Reach diverse demographics with Reels and posts',\n  },\n  {\n    id: 'twitter',\n    name: 'X (Twitter)',\n    icon: Twitter,\n    color: '#000000',\n    description: 'Share updates and engage with the tech community',\n  },\n  {\n    id: 'linkedin',\n    name: 'LinkedIn',\n    icon: Linkedin,\n    color: '#0A66C2',\n    description: 'Professional content for B2B marketing',\n  },\n];\n\nexport default function PlatformsPage() {\n  const [connections, setConnections] = useState<PlatformConnection[]>([]);\n  const [loading, setLoading] = useState<Platform | null>(null);\n\n  useEffect(() => {\n    fetchConnections();\n  }, []);\n\n  const fetchConnections = async () => {\n    try {\n      const data = await platformApi.getAll();\n      setConnections(data);\n    } catch (error) {\n      toast.error('Failed to load platform connections');\n    }\n  };\n\n  const handleConnect = async (platform: Platform) => {\n    setLoading(platform);\n    try {\n      // Simulate OAuth flow\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      await platformApi.connect(platform, `demo_${platform}_account`);\n      await fetchConnections();\n      toast.success(`${platform} connected successfully`);\n    } catch (error) {\n      toast.error(`Failed to connect ${platform}`);\n    } finally {\n      setLoading(null);\n    }\n  };\n\n  const handleDisconnect = async (platform: Platform) => {\n    setLoading(platform);\n    try {\n      await platformApi.disconnect(platform);\n      await fetchConnections();\n      toast.success(`${platform} disconnected`);\n    } catch (error) {\n      toast.error(`Failed to disconnect ${platform}`);\n    } finally {\n      setLoading(null);\n    }\n  };\n\n  const isConnected = (platformId: Platform) => {\n    return connections.some(c => c.platform === platformId && c.isActive);\n  };\n\n  const getConnection = (platformId: Platform) => {\n    return connections.find(c => c.platform === platformId);\n  };\n\n  const connectedCount = connections.filter(c => c.isActive).length;\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-bold\">Platform Connections</h2>\n        <p className=\"text-gray-500\">\n          Connect your social media accounts to start posting content. \n          {connectedCount > 0 && (\n            <span className=\"text-violet-600 font-medium\"> {connectedCount} connected</span>\n          )}\n        </p>\n      </div>\n\n      {/* Connected Platforms Summary */}\n      {connectedCount > 0 && (\n        <Card className=\"bg-gradient-to-r from-violet-50 to-indigo-50 border-violet-200\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"font-semibold text-violet-900\">Ready to Post!</h3>\n                <p className=\"text-violet-700 text-sm\">\n                  Your content will be published to {connectedCount} platform{connectedCount !== 1 ? 's' : ''}.\n                </p>\n              </div>\n              <div className=\"flex -space-x-2\">\n                {connections.filter(c => c.isActive).map((conn) => {\n                  const platform = platforms.find(p => p.id === conn.platform);\n                  const Icon = platform?.icon || Youtube;\n                  return (\n                    <div \n                      key={conn.id}\n                      className=\"w-10 h-10 rounded-full bg-white border-2 border-violet-200 flex items-center justify-center\"\n                    >\n                      <Icon className=\"w-5 h-5\" style={{ color: platform?.color }} />\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Platform Cards */}\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {platforms.map((platform) => {\n          const connected = isConnected(platform.id);\n          const connection = getConnection(platform.id);\n          const Icon = platform.icon;\n\n          return (\n            <Card key={platform.id} className={connected ? 'border-green-200' : ''}>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div \n                    className=\"w-12 h-12 rounded-lg flex items-center justify-center\"\n                    style={{ backgroundColor: `${platform.color}15` }}\n                  >\n                    <Icon className=\"w-6 h-6\" style={{ color: platform.color }} />\n                  </div>\n                  {connected ? (\n                    <Badge className=\"bg-green-100 text-green-700 hover:bg-green-100\">\n                      <Check className=\"w-3 h-3 mr-1\" />\n                      Connected\n                    </Badge>\n                  ) : (\n                    <Badge variant=\"outline\">Not Connected</Badge>\n                  )}\n                </div>\n\n                <h3 className=\"font-semibold text-lg\">{platform.name}</h3>\n                <p className=\"text-gray-500 text-sm mb-4\">{platform.description}</p>\n\n                {connected && connection ? (\n                  <div className=\"space-y-3\">\n                    <div className=\"flex items-center text-sm\">\n                      <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2\" />\n                      <span className=\"text-gray-600\">Connected as</span>\n                      <span className=\"font-medium ml-1\">{connection.accountName}</span>\n                    </div>\n                    <Button\n                      variant=\"outline\"\n                      className=\"w-full\"\n                      onClick={() => handleDisconnect(platform.id)}\n                      disabled={loading === platform.id}\n                    >\n                      {loading === platform.id ? 'Disconnecting...' : 'Disconnect'}\n                    </Button>\n                  </div>\n                ) : (\n                  <Button\n                    className=\"w-full\"\n                    style={{ \n                      backgroundColor: platform.color,\n                      color: 'white',\n                    }}\n                    onClick={() => handleConnect(platform.id)}\n                    disabled={loading === platform.id}\n                  >\n                    {loading === platform.id ? (\n                      'Connecting...'\n                    ) : (\n                      <>\n                        <LinkIcon className=\"w-4 h-4 mr-2\" />\n                        Connect {platform.name}\n                      </>\n                    )}\n                  </Button>\n                )}\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Info Card */}\n      <Card className=\"bg-blue-50 border-blue-200\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-start\">\n            <AlertCircle className=\"w-5 h-5 text-blue-600 mr-3 mt-0.5\" />\n            <div>\n              <h4 className=\"font-semibold text-blue-900\">About Platform Connections</h4>\n              <p className=\"text-blue-700 text-sm mt-1\">\n                We use OAuth to securely connect to your social media accounts. \n                We never store your passwords and you can revoke access at any time from your account settings.\n                Content will only be posted after your approval.\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":["__iconNode","Link","createLucideIcon","platforms","Youtube","Music","Instagram","Facebook","Twitter","Linkedin","PlatformsPage","connections","setConnections","useState","loading","setLoading","useEffect","fetchConnections","data","platformApi","toast","handleConnect","platform","resolve","handleDisconnect","isConnected","platformId","c","getConnection","connectedCount","jsxs","jsx","Card","CardContent","conn","p","Icon","connected","connection","Badge","Check","Button","Fragment","LinkIcon","AlertCircle"],"mappings":"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","x_google_ignoreList":[0]}