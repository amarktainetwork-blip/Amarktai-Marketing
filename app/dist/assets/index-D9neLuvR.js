import{r,j as S,h as T,i as Z}from"./index-B7xPjyQH.js";import{c as J,u as O}from"./button-DCHNtPw4.js";import{c as G,u as D,P as W,a as F,b as Q}from"./index-CDlv61-8.js";function U(e){const t=X(e),n=r.forwardRef((o,s)=>{const{children:a,...m}=o,l=r.Children.toArray(a),f=l.find(te);if(f){const i=f.props.children,u=l.map(p=>p===f?r.Children.count(i)>1?r.Children.only(null):r.isValidElement(i)?i.props.children:null:p);return S.jsx(t,{...m,ref:s,children:r.isValidElement(i)?r.cloneElement(i,void 0,u):null})}return S.jsx(t,{...m,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}function X(e){const t=r.forwardRef((n,o)=>{const{children:s,...a}=n;if(r.isValidElement(s)){const m=oe(s),l=ne(a,s.props);return s.type!==r.Fragment&&(l.ref=o?J(o,m):m),r.cloneElement(s,l)}return r.Children.count(s)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function ne(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...l)=>{const f=a(...l);return s(...l),f}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function oe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[n,o]=G(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),m=g=>{const{scope:c,children:v}=g,E=T.useRef(null),d=T.useRef(new Map).current;return S.jsx(s,{scope:c,itemMap:d,collectionRef:E,children:v})};m.displayName=t;const l=e+"CollectionSlot",f=U(l),i=T.forwardRef((g,c)=>{const{scope:v,children:E}=g,d=a(l,v),I=O(c,d.collectionRef);return S.jsx(f,{ref:I,children:E})});i.displayName=l;const u=e+"CollectionItemSlot",p="data-radix-collection-item",N=U(u),R=T.forwardRef((g,c)=>{const{scope:v,children:E,...d}=g,I=T.useRef(null),b=O(c,I),w=a(u,v);return T.useEffect(()=>(w.itemMap.set(I,{ref:I,...d}),()=>{w.itemMap.delete(I)})),S.jsx(N,{[p]:"",ref:b,children:E})});R.displayName=u;function y(g){const c=a(e+"CollectionConsumer",g);return T.useCallback(()=>{const E=c.collectionRef.current;if(!E)return[];const d=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(c.itemMap.values()).sort((w,h)=>d.indexOf(w.ref.current)-d.indexOf(h.ref.current))},[c.collectionRef,c.itemMap])}return[{Provider:m,Slot:i,ItemSlot:R},y,o]}var se=r.createContext(void 0);function ce(e){const t=r.useContext(se);return e||t||"ltr"}function ie(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>t.current?.(...n),[])}var ae=Z[" useId ".trim().toString()]||(()=>{}),ue=0;function le(e){const[t,n]=r.useState(ae());return D(()=>{n(o=>o??String(ue++))},[e]),e||(t?`radix-${t}`:"")}function fe(e,t){return r.useReducer((n,o)=>t[n][o]??n,e)}var de=e=>{const{present:t,children:n}=e,o=me(t),s=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),a=O(o.ref,pe(s));return typeof n=="function"||o.isPresent?r.cloneElement(s,{ref:a}):null};de.displayName="Presence";function me(e){const[t,n]=r.useState(),o=r.useRef(null),s=r.useRef(e),a=r.useRef("none"),m=e?"mounted":"unmounted",[l,f]=fe(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const i=M(o.current);a.current=l==="mounted"?i:"none"},[l]),D(()=>{const i=o.current,u=s.current;if(u!==e){const N=a.current,R=M(i);e?f("MOUNT"):R==="none"||i?.display==="none"?f("UNMOUNT"):f(u&&N!==R?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),D(()=>{if(t){let i;const u=t.ownerDocument.defaultView??window,p=R=>{const g=M(o.current).includes(CSS.escape(R.animationName));if(R.target===t&&g&&(f("ANIMATION_END"),!s.current)){const c=t.style.animationFillMode;t.style.animationFillMode="forwards",i=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=c)})}},N=R=>{R.target===t&&(a.current=M(o.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{u.clearTimeout(i),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(i=>{o.current=i?getComputedStyle(i):null,n(i)},[])}}function M(e){return e?.animationName||"none"}function pe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _="rovingFocusGroup.onEntryFocus",Ie={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[L,k,Re]=re(x),[ve,xe]=G(x,[Re]),[ge,Ce]=ve(x),K=r.forwardRef((e,t)=>S.jsx(L.Provider,{scope:e.__scopeRovingFocusGroup,children:S.jsx(L.Slot,{scope:e.__scopeRovingFocusGroup,children:S.jsx(Ee,{...e,ref:t})})}));K.displayName=x;var Ee=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:a,currentTabStopId:m,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:i,preventScrollOnEntryFocus:u=!1,...p}=e,N=r.useRef(null),R=O(t,N),y=ce(a),[g,c]=Q({prop:m,defaultProp:l??null,onChange:f,caller:x}),[v,E]=r.useState(!1),d=ie(i),I=k(n),b=r.useRef(!1),[w,h]=r.useState(0);return r.useEffect(()=>{const C=N.current;if(C)return C.addEventListener(_,d),()=>C.removeEventListener(_,d)},[d]),S.jsx(ge,{scope:n,orientation:o,dir:y,loop:s,currentTabStopId:g,onItemFocus:r.useCallback(C=>c(C),[c]),onItemShiftTab:r.useCallback(()=>E(!0),[]),onFocusableItemAdd:r.useCallback(()=>h(C=>C+1),[]),onFocusableItemRemove:r.useCallback(()=>h(C=>C-1),[]),children:S.jsx(W.div,{tabIndex:v||w===0?-1:0,"data-orientation":o,...p,ref:R,style:{outline:"none",...e.style},onMouseDown:F(e.onMouseDown,()=>{b.current=!0}),onFocus:F(e.onFocus,C=>{const H=!b.current;if(C.target===C.currentTarget&&H&&!v){const j=new CustomEvent(_,Ie);if(C.currentTarget.dispatchEvent(j),!j.defaultPrevented){const P=I().filter(A=>A.focusable),Y=P.find(A=>A.active),q=P.find(A=>A.id===g),z=[Y,q,...P].filter(Boolean).map(A=>A.ref.current);$(z,u)}}b.current=!1}),onBlur:F(e.onBlur,()=>E(!1))})})}),V="RovingFocusGroupItem",B=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:a,children:m,...l}=e,f=le(),i=a||f,u=Ce(V,n),p=u.currentTabStopId===i,N=k(n),{onFocusableItemAdd:R,onFocusableItemRemove:y,currentTabStopId:g}=u;return r.useEffect(()=>{if(o)return R(),()=>y()},[o,R,y]),S.jsx(L.ItemSlot,{scope:n,id:i,focusable:o,active:s,children:S.jsx(W.span,{tabIndex:p?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:F(e.onMouseDown,c=>{o?u.onItemFocus(i):c.preventDefault()}),onFocus:F(e.onFocus,()=>u.onItemFocus(i)),onKeyDown:F(e.onKeyDown,c=>{if(c.key==="Tab"&&c.shiftKey){u.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const v=ye(c,u.orientation,u.dir);if(v!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||c.shiftKey)return;c.preventDefault();let d=N().filter(I=>I.focusable).map(I=>I.ref.current);if(v==="last")d.reverse();else if(v==="prev"||v==="next"){v==="prev"&&d.reverse();const I=d.indexOf(c.currentTarget);d=u.loop?Ae(d,I+1):d.slice(I+1)}setTimeout(()=>$(d))}}),children:typeof m=="function"?m({isCurrentTabStop:p,hasTabStop:g!=null}):m})})});B.displayName=V;var Se={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ne(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ye(e,t,n){const o=Ne(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Se[o]}function $(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Ae(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var he=K,Me=B;export{Me as I,de as P,he as R,ce as a,xe as b,re as c,le as d,ie as u};
//# sourceMappingURL=index-D9neLuvR.js.map
