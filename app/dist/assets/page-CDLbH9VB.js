import{c as w,j as e,r as g,T as $,C as _,t as m}from"./index-B7xPjyQH.js";import{C as u,b as T,c as A,a as j}from"./card-B9NGZHZj.js";import{a as P,B as x}from"./button-DCHNtPw4.js";import{B as p}from"./badge-DZG9zRSQ.js";import{T as X}from"./textarea-_wkk7qM4.js";import{a as J,C as ee,d as se,T as ae,e as te,O as le,g as ie}from"./index-DClApR3z.js";import{X as z}from"./x-DewXYrJl.js";import{A as ne,T as H,a as U,b,c as v,R as re}from"./index-BKihoEyG.js";import{c as N}from"./api-C2B575Fl.js";import{T as k,P as S}from"./progress-n33XnH30.js";import{E as M,H as ce,M as de}from"./mouse-pointer-CbFg6AKc.js";import{L as oe}from"./lightbulb-D4hpy2-l.js";import{C as D}from"./circle-check-big-CpYoOYX7.js";import{m as f,T as me,U as I}from"./proxy-BgjVR5M3.js";import{Z as xe}from"./zap-Ct5qc87P.js";import{P as R}from"./play-D5ERZsZi.js";import{C as O}from"./chart-column-Cv3cZV7r.js";import{C as F}from"./check-B-j50U8_.js";import{S as he}from"./sparkles-jOJGh822.js";import{C as pe}from"./clock-B1ncPN5k.js";import{C as ge}from"./calendar-BdrXWRJC.js";import{f as ue}from"./format-D5ebMS61.js";import"./index-CDlv61-8.js";import"./index-D9neLuvR.js";import"./mockData-DkSx-qKd.js";const je=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],L=w("flask-conical",je);const fe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],V=w("pause",fe);const Ne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],be=w("rotate-ccw",Ne);const ve=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],we=w("split",ve);const ye=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],Ce=w("thumbs-up",ye);function ke({...t}){return e.jsx(J,{"data-slot":"dialog",...t})}function Te({...t}){return e.jsx(te,{"data-slot":"dialog-portal",...t})}function Ae({className:t,...r}){return e.jsx(le,{"data-slot":"dialog-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function Pe({className:t,children:r,showCloseButton:l=!0,...n}){return e.jsxs(Te,{"data-slot":"dialog-portal",children:[e.jsx(Ae,{}),e.jsxs(ee,{"data-slot":"dialog-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",t),...n,children:[r,l&&e.jsxs(se,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(z,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function _e({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-header",className:P("flex flex-col gap-2 text-center sm:text-left",t),...r})}function Re({className:t,...r}){return e.jsx(ae,{"data-slot":"dialog-title",className:P("text-lg leading-none font-semibold",t),...r})}function ze({content:t}){const[r,l]=g.useState(!1),[n,c]=g.useState(null),o=()=>{l(!0),setTimeout(()=>{c({predicted_views:2500,predicted_engagement:180,predicted_ctr:8.5,confidence_score:.82,risk_level:"low",improvement_suggestions:["ðŸ’¡ Add a stronger hook in the first sentence","ðŸ’¡ Use 5-8 hashtags for optimal reach","ðŸ’¡ Post at 2 PM for maximum engagement"]}),l(!1)},1500)},a=h=>{switch(h){case"low":return"text-green-600 bg-green-50";case"medium":return"text-yellow-600 bg-yellow-50";case"high":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},d=h=>{switch(h){case"low":return e.jsx(D,{className:"w-4 h-4 text-green-600"});case"medium":return e.jsx($,{className:"w-4 h-4 text-yellow-600"});case"high":return e.jsx($,{className:"w-4 h-4 text-red-600"});default:return null}};return n?e.jsxs(u,{children:[e.jsx(T,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(A,{className:"flex items-center text-lg",children:[e.jsx(k,{className:"w-5 h-5 mr-2 text-violet-600"}),"Performance Prediction"]}),e.jsxs(p,{className:a(n.risk_level),children:[d(n.risk_level),e.jsxs("span",{className:"ml-1 capitalize",children:[n.risk_level," Risk"]})]})]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-500",children:"AI Confidence"}),e.jsxs("span",{className:"font-medium",children:[Math.round(n.confidence_score*100),"%"]})]}),e.jsx(S,{value:n.confidence_score*100,className:"h-2"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx(M,{className:"w-5 h-5 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:n.predicted_views>=1e3?`${(n.predicted_views/1e3).toFixed(1)}K`:n.predicted_views}),e.jsx("p",{className:"text-xs text-blue-600",children:"Predicted Views"})]}),e.jsxs("div",{className:"text-center p-3 bg-pink-50 rounded-lg",children:[e.jsx(ce,{className:"w-5 h-5 text-pink-600 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-pink-700",children:n.predicted_engagement>=1e3?`${(n.predicted_engagement/1e3).toFixed(1)}K`:n.predicted_engagement}),e.jsx("p",{className:"text-xs text-pink-600",children:"Engagement"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx(de,{className:"w-5 h-5 text-green-600 mx-auto mb-1"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[n.predicted_ctr,"%"]}),e.jsx("p",{className:"text-xs text-green-600",children:"Predicted CTR"})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(oe,{className:"w-4 h-4 text-amber-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Improvement Suggestions"})]}),e.jsx("ul",{className:"space-y-1",children:n.improvement_suggestions.map((h,y)=>e.jsxs("li",{className:"text-sm text-amber-700 flex items-start",children:[e.jsx("span",{className:"mr-2",children:"â€¢"}),h]},y))})]}),e.jsx("button",{onClick:()=>c(null),className:"w-full py-2 text-sm text-violet-600 hover:text-violet-700 border border-violet-200 rounded-lg hover:bg-violet-50",children:"Analyze Different Content"})]})]}):e.jsxs(u,{children:[e.jsx(T,{children:e.jsxs(A,{className:"flex items-center text-lg",children:[e.jsx(k,{className:"w-5 h-5 mr-2 text-violet-600"}),"AI Performance Predictor"]})}),e.jsx(j,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-violet-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(k,{className:"w-8 h-8 text-violet-600"})}),e.jsx("h3",{className:"font-semibold mb-2",children:"Predict Your Content Performance"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-sm mx-auto",children:"Our AI analyzes your content and predicts views, engagement, and CTR before you post."}),e.jsx("button",{onClick:o,disabled:r,className:"px-4 py-2 bg-gradient-to-r from-violet-600 to-indigo-600 text-white rounded-lg hover:from-violet-700 hover:to-indigo-700 disabled:opacity-50",children:r?"Analyzing...":"Analyze Content"})]})})]})}const B=[{id:"test-1",contentId:"content-1",contentTitle:"Summer Sale Announcement",status:"running",startDate:"2024-01-15",totalReach:15420,variants:[{id:"variant-a",name:"Variant A - Bold CTA",thumbnail:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=200&h=150&fit=crop",engagement:8.4,views:7710,ctr:4.2,conversions:324,confidence:78},{id:"variant-b",name:"Variant B - Soft CTA",thumbnail:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=200&h=150&fit=crop",engagement:11.2,views:7710,ctr:5.8,conversions:447,confidence:89}]},{id:"test-2",contentId:"content-2",contentTitle:"Product Launch Teaser",status:"completed",startDate:"2024-01-10",endDate:"2024-01-14",totalReach:28300,winner:"variant-c",variants:[{id:"variant-c",name:"Video Version",thumbnail:"https://images.unsplash.com/photo-1536240478700-b869070f9279?w=200&h=150&fit=crop",engagement:15.7,views:14150,ctr:7.3,conversions:1033,confidence:95},{id:"variant-d",name:"Image Carousel",thumbnail:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=200&h=150&fit=crop",engagement:9.2,views:14150,ctr:4.1,conversions:580,confidence:95}]}],Se={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},Me={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};function De(){const[t,r]=g.useState(B),[l,n]=g.useState(B[0]),c=a=>{r(t.map(d=>d.id===a?{...d,status:d.status==="running"?"paused":"running"}:d))},o=a=>{switch(a){case"running":return e.jsxs(p,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[e.jsx(R,{className:"w-3 h-3 mr-1"})," Running"]});case"paused":return e.jsxs(p,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",children:[e.jsx(V,{className:"w-3 h-3 mr-1"})," Paused"]});case"completed":return e.jsxs(p,{className:"bg-blue-500/20 text-blue-400 border-blue-500/30",children:[e.jsx(_,{className:"w-3 h-3 mr-1"})," Completed"]})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(f.div,{variants:Se,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{icon:L,label:"Active Tests",value:"3",color:"text-purple-400",bg:"bg-purple-500/20"},{icon:me,label:"Total Variants",value:"8",color:"text-blue-400",bg:"bg-blue-500/20"},{icon:I,label:"Test Reach",value:"45.2K",color:"text-green-400",bg:"bg-green-500/20"},{icon:k,label:"Avg Lift",value:"+23%",color:"text-orange-400",bg:"bg-orange-500/20"}].map((a,d)=>e.jsx(f.div,{variants:Me,children:e.jsx(u,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700/50",children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:a.label}),e.jsx("p",{className:`text-2xl font-bold ${a.color}`,children:a.value})]}),e.jsx("div",{className:`p-3 rounded-xl ${a.bg}`,children:e.jsx(a.icon,{className:`w-5 h-5 ${a.color}`})})]})})})},d))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-1 space-y-4",children:e.jsxs(u,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700/50",children:[e.jsx(T,{children:e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-purple-400"}),"Active Tests"]})}),e.jsxs(j,{className:"space-y-3",children:[t.map(a=>e.jsxs(f.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(a),className:`p-4 rounded-xl cursor-pointer transition-all ${l?.id===a.id?"bg-purple-500/20 border border-purple-500/50":"bg-slate-800/50 border border-slate-700/50 hover:border-slate-600"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:a.contentTitle}),o(a.status)]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"}),a.variants.length," variants"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),(a.totalReach/1e3).toFixed(1),"K reach"]})]})]},a.id)),e.jsxs(x,{variant:"outline",className:"w-full border-dashed border-slate-600 text-slate-400 hover:text-slate-200 hover:border-slate-500",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Create New Test"]})]})]})}),e.jsx(f.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"lg:col-span-2",children:e.jsx(ne,{mode:"wait",children:l&&e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:e.jsxs(u,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700/50",children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(A,{className:"text-xl",children:l.contentTitle}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Started ",l.startDate," â€¢ ",l.totalReach.toLocaleString()," total reach"]})]}),e.jsxs("div",{className:"flex gap-2",children:[l.status!=="completed"&&e.jsx(x,{variant:"outline",size:"sm",onClick:()=>c(l.id),className:"border-slate-600",children:l.status==="running"?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 mr-1"})," Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4 mr-1"})," Resume"]})}),e.jsxs(x,{variant:"outline",size:"sm",className:"border-slate-600",children:[e.jsx(be,{className:"w-4 h-4 mr-1"})," Restart"]})]})]})}),e.jsx(j,{children:e.jsxs(H,{defaultValue:"comparison",className:"w-full",children:[e.jsxs(U,{className:"bg-slate-800/50 mb-4",children:[e.jsx(b,{value:"comparison",children:"Comparison"}),e.jsx(b,{value:"metrics",children:"Metrics"}),e.jsx(b,{value:"timeline",children:"Timeline"})]}),e.jsx(v,{value:"comparison",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.variants.map((a,d)=>e.jsxs(f.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:d*.1},className:`relative p-4 rounded-xl border-2 ${l.winner===a.id?"border-green-500 bg-green-500/10":"border-slate-700 bg-slate-800/50"}`,children:[l.winner===a.id&&e.jsx("div",{className:"absolute -top-3 left-4",children:e.jsxs(p,{className:"bg-green-500 text-white",children:[e.jsx(_,{className:"w-3 h-3 mr-1"})," Winner"]})}),e.jsx("img",{src:a.thumbnail,alt:a.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),e.jsx("h5",{className:"font-medium text-slate-200 mb-3",children:a.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Engagement"}),e.jsxs("span",{className:"text-slate-200 font-medium",children:[a.engagement,"%"]})]}),e.jsx(S,{value:a.engagement*5,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"CTR"}),e.jsxs("span",{className:"text-slate-200 font-medium",children:[a.ctr,"%"]})]}),e.jsx(S,{value:a.ctr*10,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm pt-2",children:[e.jsx("span",{className:"text-slate-400",children:"Confidence"}),e.jsxs("span",{className:`font-medium ${a.confidence>=90?"text-green-400":a.confidence>=70?"text-yellow-400":"text-orange-400"}`,children:[a.confidence,"%"]})]})]})]},a.id))})}),e.jsx(v,{value:"metrics",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.variants.map(a=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("h5",{className:"font-medium text-slate-300 text-sm",children:a.name}),e.jsx(u,{className:"bg-slate-800/50 border-slate-700",children:e.jsxs(j,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(M,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Views"})]}),e.jsx("p",{className:"text-lg font-bold text-slate-200",children:a.views.toLocaleString()})]})}),e.jsx(u,{className:"bg-slate-800/50 border-slate-700",children:e.jsxs(j,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ce,{className:"w-4 h-4 text-pink-400"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Engagement"})]}),e.jsxs("p",{className:"text-lg font-bold text-slate-200",children:[a.engagement,"%"]})]})}),e.jsx(u,{className:"bg-slate-800/50 border-slate-700",children:e.jsxs(j,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(O,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Conversions"})]}),e.jsx("p",{className:"text-lg font-bold text-slate-200",children:a.conversions})]})})]},a.id))})}),e.jsx(v,{value:"timeline",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(R,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-200",children:"Test Started"}),e.jsx("p",{className:"text-sm text-slate-400",children:l.startDate})]}),e.jsx(p,{variant:"outline",className:"border-green-500/50 text-green-400",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-800/50 rounded-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:e.jsx(I,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-200",children:"Reached 1,000 views"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Day 2 â€¢ Statistical significance achieved"})]}),e.jsx(p,{variant:"outline",className:"border-blue-500/50 text-blue-400",children:"Milestone"})]}),l.winner&&e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-green-500/10 rounded-xl border border-green-500/30",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5 text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-green-400",children:"Winner Declared"}),e.jsx("p",{className:"text-sm text-slate-400",children:l.variants.find(a=>a.id===l.winner)?.name})]}),e.jsx(p,{className:"bg-green-500 text-white",children:"Winner"})]})]})})]})})]})},l.id)})})]})]})}const q={youtube:"â–¶ï¸",tiktok:"ðŸŽµ",instagram:"ðŸ“·",facebook:"ðŸ‘¥",twitter:"ðŸ¦",linkedin:"ðŸ’¼"};function ns(){const[t,r]=g.useState([]),[l,n]=g.useState(!0),[c,o]=g.useState([]),[a,d]=g.useState(null),[h,y]=g.useState("");g.useEffect(()=>{K()},[]);const K=async()=>{try{const s=await N.getPending();r(s)}catch{m.error("Failed to load pending content")}finally{n(!1)}},W=async s=>{o([...c,s]);try{await N.approve(s),r(t.filter(i=>i.id!==s)),m.success("Content approved and scheduled")}catch{m.error("Failed to approve content")}finally{o(c.filter(i=>i!==s))}},E=async s=>{o([...c,s]);try{await N.reject(s),r(t.filter(i=>i.id!==s)),m.success("Content rejected")}catch{m.error("Failed to reject content")}finally{o(c.filter(i=>i!==s))}},Z=async()=>{if(t.length===0)return;const s=t.map(i=>i.id);o([...c,...s]);try{await N.approveAll(s),r([]),m.success(`Approved ${s.length} items`)}catch{m.error("Failed to approve all content")}finally{o([])}},Y=s=>{d(s),y(s.caption)},G=async()=>{if(a)try{await N.updateCaption(a.id,h),r(t.map(s=>s.id===a.id?{...s,caption:h}:s)),m.success("Caption updated"),d(null)}catch{m.error("Failed to update caption")}},Q=async s=>{o([...c,s.id]);try{const i=await N.generate(s.webappId,s.platform);r(t.map(C=>C.id===s.id?i:C)),m.success("Content regenerated")}catch{m.error("Failed to regenerate content")}finally{o(c.filter(i=>i!==s.id))}};return l?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((s,i)=>e.jsx(u,{className:"animate-pulse",children:e.jsx(j,{className:"p-6",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})})},i))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Content Review"}),e.jsx("p",{className:"text-gray-500",children:"Review, predict performance, and optimize before publishing"})]}),t.length>0&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(x,{variant:"outline",onClick:()=>{confirm(`Reject all ${t.length} items?`)&&Promise.all(t.map(s=>E(s.id)))},children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Reject All"]}),e.jsxs(x,{className:"bg-gradient-to-r from-violet-600 to-indigo-600",onClick:Z,disabled:c.length>0,children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Approve All (",t.length,")"]})]})]}),e.jsxs(H,{defaultValue:"queue",className:"w-full",children:[e.jsxs(U,{className:"grid grid-cols-3 w-full max-w-md",children:[e.jsxs(b,{value:"queue",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Queue (",t.length,")"]}),e.jsxs(b,{value:"predictor",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"AI Predictor"]}),e.jsxs(b,{value:"abtest",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"A/B Testing"]})]}),e.jsxs(v,{value:"queue",className:"space-y-6",children:[t.length>0?e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-blue-900 font-medium",children:[t.length," items waiting for approval"]}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Approved content will be posted at the optimal time for each platform. You can edit captions before approving."})]})]}):e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-8 text-center",children:[e.jsx(D,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"All Caught Up!"}),e.jsx("p",{className:"text-green-700 max-w-md mx-auto",children:"No content waiting for approval. New content will be generated tonight at 2:00 AM."})]}),e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsx(u,{className:"overflow-hidden",children:e.jsx(j,{className:"p-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"w-full lg:w-64 h-48 lg:h-auto bg-gray-100 flex-shrink-0",children:s.mediaUrls[0]?e.jsx("img",{src:s.mediaUrls[0],alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx("span",{className:"text-6xl",children:q[s.platform]})})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"text-2xl",children:q[s.platform]}),e.jsx(p,{variant:"outline",className:"capitalize",children:s.platform}),e.jsx(p,{variant:"outline",className:"capitalize",children:s.type}),e.jsxs("span",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(ge,{className:"w-4 h-4 mr-1"}),"Generated ",ue(new Date(s.createdAt),"MMM d, h:mm a")]})]}),e.jsx("h3",{className:"font-semibold text-xl mb-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 whitespace-pre-line",children:s.caption}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.hashtags.map((i,C)=>e.jsxs("span",{className:"text-sm text-violet-600 bg-violet-50 px-2 py-1 rounded",children:["#",i]},C))}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-4 border-t",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>Y(s),children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Edit Caption"]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>Q(s),disabled:c.includes(s.id),children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Regenerate"]}),e.jsx("div",{className:"flex-1"}),e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>E(s.id),disabled:c.includes(s.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Reject"]}),e.jsxs(x,{size:"sm",onClick:()=>W(s.id),disabled:c.includes(s.id),className:"bg-gradient-to-r from-violet-600 to-indigo-600",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),c.includes(s.id)?"Processing...":"Approve"]})]})]})]})})},s.id))}),e.jsx(ke,{open:!!a,onOpenChange:()=>d(null),children:e.jsxs(Pe,{className:"max-w-2xl",children:[e.jsx(_e,{children:e.jsx(Re,{children:"Edit Caption"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(X,{value:h,onChange:s=>y(s.target.value),rows:8,className:"resize-none"}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(x,{variant:"outline",onClick:()=>d(null),children:"Cancel"}),e.jsx(x,{className:"bg-gradient-to-r from-violet-600 to-indigo-600",onClick:G,children:"Save Changes"})]})]})]})})]}),e.jsx(v,{value:"predictor",children:e.jsx(ze,{})}),e.jsx(v,{value:"abtest",children:e.jsx(De,{})})]})]})}export{ns as default};
//# sourceMappingURL=page-CDLbH9VB.js.map
