import{e as w,u as A,r as c,j as e,t as u}from"./index-B7xPjyQH.js";import{C as x,a as y,b as C,c as S}from"./card-B9NGZHZj.js";import{B as d}from"./button-DCHNtPw4.js";import{I as p}from"./input-Df2RQJ-i.js";import{L as n}from"./label-houtTz_r.js";import{T as W}from"./textarea-_wkk7qM4.js";import{B as E}from"./badge-DZG9zRSQ.js";import{w as j}from"./api-C2B575Fl.js";import{A as T}from"./arrow-left-D8f4KlhP.js";import{X as B}from"./x-DewXYrJl.js";import{P}from"./plus-BngPziCP.js";import"./mockData-DkSx-qKd.js";const D=["SaaS","E-commerce","Developer Tools","Productivity","Finance","Health & Fitness","Education","Entertainment","Other"];function G(){const{id:l}=w(),i=A(),[v,m]=c.useState(!1),[h,g]=c.useState(!1),[,b]=c.useState(null),[s,t]=c.useState({name:"",url:"",description:"",category:"",targetAudience:"",keyFeatures:[""]});c.useEffect(()=>{(async()=>{if(l){m(!0);try{const r=await j.getById(l);r?(b(r),t({name:r.name,url:r.url,description:r.description,category:r.category,targetAudience:r.targetAudience,keyFeatures:r.keyFeatures.length>0?r.keyFeatures:[""]})):(u.error("Web app not found"),i("/dashboard/webapps"))}catch{u.error("Failed to load web app"),i("/dashboard/webapps")}finally{m(!1)}}})()},[l,i]);const f=async a=>{if(a.preventDefault(),!!l){g(!0);try{await j.update(l,{...s,keyFeatures:s.keyFeatures.filter(r=>r.trim()!=="")}),u.success("Web app updated successfully"),i("/dashboard/webapps")}catch{u.error("Failed to update web app")}finally{g(!1)}}},F=()=>{t({...s,keyFeatures:[...s.keyFeatures,""]})},N=a=>{t({...s,keyFeatures:s.keyFeatures.filter((r,o)=>o!==a)})},k=(a,r)=>{const o=[...s.keyFeatures];o[a]=r,t({...s,keyFeatures:o})};return v?e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx(x,{className:"animate-pulse",children:e.jsxs(y,{className:"p-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})})}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs(d,{variant:"ghost",className:"mb-4",onClick:()=>i("/dashboard/webapps"),children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Back to Web Apps"]}),e.jsxs(x,{children:[e.jsx(C,{children:e.jsx(S,{children:"Edit Web App"})}),e.jsx(y,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"App Name *"}),e.jsx(p,{id:"name",placeholder:"e.g., TaskFlow Pro",value:s.name,onChange:a=>t({...s,name:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"url",children:"Website URL *"}),e.jsx(p,{id:"url",type:"url",placeholder:"https://yourapp.com",value:s.url,onChange:a=>t({...s,url:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"description",children:"Description *"}),e.jsx(W,{id:"description",placeholder:"What does your app do? What problem does it solve?",value:s.description,onChange:a=>t({...s,description:a.target.value}),rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Category *"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(a=>e.jsx(E,{variant:s.category===a?"default":"outline",className:`cursor-pointer ${s.category===a?"bg-violet-600 hover:bg-violet-700":"hover:bg-gray-100"}`,onClick:()=>t({...s,category:a}),children:a},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"targetAudience",children:"Target Audience *"}),e.jsx(p,{id:"targetAudience",placeholder:"e.g., Remote teams, project managers, startups",value:s.targetAudience,onChange:a=>t({...s,targetAudience:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:"Key Features"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Add features that make your app stand out. These help our AI create better content."}),e.jsx("div",{className:"space-y-2",children:s.keyFeatures.map((a,r)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{placeholder:`Feature ${r+1}`,value:a,onChange:o=>k(r,o.target.value)}),s.keyFeatures.length>1&&e.jsx(d,{type:"button",variant:"ghost",size:"icon",onClick:()=>N(r),children:e.jsx(B,{className:"w-4 h-4"})})]},r))}),e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:F,children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Add Feature"]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>i("/dashboard/webapps"),children:"Cancel"}),e.jsx(d,{type:"submit",className:"bg-gradient-to-r from-violet-600 to-indigo-600",disabled:h,children:h?"Saving...":"Save Changes"})]})]})})]})]})}export{G as default};
//# sourceMappingURL=page-DVG-pWcg.js.map
